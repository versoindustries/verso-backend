{% extends "base.html" %}

{% block title %}Employee Dashboard - Verso{% endblock %}

{% block additional_css %}
<link rel="stylesheet" href="{{ url_for('static', filename='css/components/employee-dashboard.css') }}">
<link rel="stylesheet" href="{{ url_for('static', filename='css/components/employee-calendar.css') }}">
{% endblock %}

{% block content %}
<div class="section-spacer"></div>

<div class="employee-dashboard-wrapper">
    {% set events_url = url_for('employee.calendar_events') %}
    <div data-react-component="EmployeeDashboard" data-react-props='{"initialStats": {{ initial_stats_json | safe }}, "upcomingAppointments": {{ upcoming_appointments_json | safe }}, "leaveBalances": {{ leave_balances_json | safe }}, "eventsUrl": "{{ events_url }}", "hasEstimatorProfile": {{ "true" if estimator else "false" }}, "estimatorId": {{ estimator.id if estimator else "null" }}}'>
        <div class="text-center py-5">
            <div class="spinner-border text-primary" role="status">
                <span class="visually-hidden">Loading dashboard...</span>
            </div>
            <p class="mt-2 text-muted">Loading dashboard...</p>
        </div>
    </div>
</div>

<div class="section-spacer"></div>
{% endblock %}
