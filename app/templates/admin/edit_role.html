{% extends "base.html" %}

{% block additional_css %}
<link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='css/edit_role.css') }}">
{% endblock %}

{% block title %}
Edit Role
{% endblock %}

{% block description %}
Edit an existing role with a simple and secure form interface.
{% endblock %}

{% block head %}
<meta name="description" content="{{ description|e }}">
<meta property="og:title" content="{{ title|e }}">
<meta property="og:description" content="{{ description|e }}">
<meta property="og:image" content="{{ url_for('static', filename='images/logo.png') }}">
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:title" content="{{ title|e }}">
<meta name="twitter:description" content="{{ description|e }}">
<meta name="twitter:image" content="{{ url_for('static', filename='images/logo.png') }}">
<link rel="canonical" href="{{ request.url }}">
<meta name="robots" content="index, follow">
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "WebPage",
  "name": "{{ title|e }}",
  "description": "{{ description|e }}"
}
</script>
{% endblock %}

{% block content %}
<section class="edit-role-section container mx-auto py-8 px-4">
  <header class="text-center mb-8">
    <h1 class="text-3xl font-bold text-gray-800">Edit Role</h1>
    <p class="text-gray-600 mt-2">Modify the role details below.</p>
  </header>
  <article class="form-container max-w-md mx-auto bg-white p-6 rounded-lg shadow-md">
    <form method="post" class="flex flex-col gap-4">
      {{ form.hidden_tag() }}
      <div class="form-group">
        <label for="{{ form.name.id }}" class="block text-sm font-medium text-gray-700 mb-1">
          {{ form.name.label.text }}
        </label>
        {{ form.name(class="w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500") }}
      </div>
      <div class="form-group">
        {{ form.submit(class="w-full bg-blue-600 text-white py-2 rounded-md hover:bg-blue-700 transition-colors") }}
      </div>
    </form>
  </article>
</section>
{% endblock %}

{% block scripts %}
<script>
  // Basic form validation feedback
  document.querySelector('form').addEventListener('submit', function(e) {
    const nameInput = document.querySelector('#name');
    if (!nameInput.value.trim()) {
      e.preventDefault();
      nameInput.classList.add('border-red-500');
      alert('Role name is required.');
    } else {
      nameInput.classList.remove('border-red-500');
    }
  });
</script>
{% endblock %}